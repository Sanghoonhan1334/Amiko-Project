# 주제별 게시판 이미지 업로드 기능 가이드

## 기능 개요
주제별 게시판(갤러리)에서 게시글 작성 시 이미지를 첨부할 수 있는 기능이 추가되었습니다.

## 사용 방법

### 1. 갤러리 선택
1. 커뮤니티 탭에서 "주제별 게시판" 클릭
2. 원하는 갤러리 선택 (뷰티, 패션, 여행, 문화, 음식, 언어 등)

### 2. 게시글 작성
1. 선택한 갤러리에서 "글쓰기" 버튼 클릭
2. 제목과 내용 입력
3. "📷 이미지 선택" 버튼 클릭하여 이미지 파일 선택
4. 업로드된 이미지 미리보기 확인
5. 필요시 이미지 삭제 (× 버튼)
6. "작성하기" 버튼으로 게시글 등록

## 주요 기능

### 1. 이미지 업로드
- **지원 형식**: JPG, PNG, GIF, WebP
- **파일 크기 제한**: 5MB 이하
- **업로드 개수**: 최대 5개
- **저장 방식**: Supabase Storage 사용

### 2. 이미지 미리보기
- 업로드 즉시 미리보기 제공
- 그리드 형태의 이미지 갤러리 표시
- 각 이미지별 삭제 기능

### 3. 게시글 표시
- 게시글 목록에서 이미지 첨부 여부 표시
- 게시글 상세에서 이미지 갤러리 형태로 표시
- 이미지 클릭 시 새 탭에서 원본 크기로 열기

## 기술적 특징

### 1. 파일 업로드
- **API 엔드포인트**: `/api/upload/image`
- **저장 위치**: `gallery-posts/{user_id}/` 폴더
- **파일명**: 타임스탬프 + 랜덤 문자열로 중복 방지

### 2. 보안
- **인증 필요**: 로그인한 사용자만 업로드 가능
- **파일 검증**: 이미지 파일만 허용, 크기 제한
- **권한 관리**: 사용자는 자신의 파일만 삭제 가능

### 3. 사용자 경험
- **실시간 업로드**: 파일 선택 즉시 업로드 시작
- **진행 상태**: 업로드 중 상태 표시
- **에러 처리**: 명확한 에러 메시지 제공

## 갤러리별 특징

### 1. 뷰티 갤러리 💄
- 화장품, 스킨케어, 메이크업 관련 이미지
- 제품 사진, 결과 사진 등

### 2. 패션 갤러리 👕
- 의류, 액세서리, 스타일링 관련 이미지
- 코디 사진, 아이템 사진 등

### 3. 여행 갤러리 🗺️
- 여행지, 맛집, 관광지 관련 이미지
- 풍경 사진, 음식 사진 등

### 4. 문화 갤러리 🏮
- 전통문화, 현대문화 관련 이미지
- 행사 사진, 문화재 사진 등

### 5. 음식 갤러리 🍱
- 요리, 레시피, 맛집 관련 이미지
- 음식 사진, 조리 과정 등

### 6. 언어 갤러리 📖
- 한국어 학습 관련 이미지
- 교재, 노트, 학습 자료 등

## 문제 해결

### 일반적인 문제
1. **업로드 실패**: 파일 크기나 형식 확인
2. **이미지 표시 안됨**: Supabase Storage 설정 확인
3. **권한 오류**: 사용자 인증 상태 확인

### 로그 확인
브라우저 개발자 도구의 콘솔에서 다음 로그를 확인하세요:
- `이미지 업로드 완료:` - 성공적인 업로드
- `이미지 업로드 오류:` - 업로드 실패 시 상세 정보

## 추가 개발 사항

### 향후 개선 계획
1. 이미지 압축 기능
2. 이미지 편집 기능 (크롭, 리사이즈)
3. 이미지 최적화 (WebP 변환)
4. 드래그 앤 드롭 업로드

### 성능 최적화
- 이미지 lazy loading
- 썸네일 생성
- 캐싱 전략 개선
